<div class="share-page">
  <ng-container *ngIf="shareableContent$ | async as shareableContent">
    <header>
      <img src="assets/menu.png" alt="Athena" class="logo">
      <span class="tagline">L'actu indépendante</span>
    </header>

    <main>
      <article class="article-card">
        <div class="article-image" *ngIf="shareableContent.image?.url">
          <img [src]="shareableContent.image.url" [alt]="shareableContent.title">
        </div>
        <div class="article-content">
          <span class="shared-badge">Article partagé</span>
          <h1 [innerHTML]="shareableContent.title"></h1>
        </div>
      </article>

      <div class="actions">
        <a [routerLink]="['/share/download']"
           [queryParams]="{ articleUrl: shareableContent.originalUrl }"
           class="cta-primary">
          Télécharger l'app gratuite
        </a>

        <p class="promise">Promis, vous n'êtes pas le produit.</p>

        <a [href]="shareableContent.originalUrl" class="cta-secondary">
          Lire l'article sans l'app
        </a>
      </div>
    </main>
  </ng-container>

  <ng-container *ngIf="!(shareableContent$ | async)">
    <div class="loading">
      <div class="spinner"></div>
    </div>
  </ng-container>
</div>
