<div class="profile-container">
  <mat-card class="profile-card" *ngIf="user$ | async as user">
    <mat-card-header>
      <div class="profile-avatar" mat-card-avatar>
        <img *ngIf="user.photoURL" [src]="user.photoURL" [alt]="user.displayName || 'Photo de profil'" />
        <mat-icon *ngIf="!user.photoURL">account_circle</mat-icon>
      </div>
      <mat-card-title>{{ user.displayName || 'Utilisateur' }}</mat-card-title>
      <mat-card-subtitle>{{ user.email }}</mat-card-subtitle>
    </mat-card-header>

    <mat-card-content>
      <div class="profile-info">
        <h3>Informations du compte</h3>

        <div class="info-item">
          <mat-icon>email</mat-icon>
          <div class="info-content">
            <span class="info-label">Email</span>
            <span class="info-value">{{ user.email || 'Non renseigné' }}</span>
          </div>
        </div>

        <div class="info-item">
          <mat-icon>person</mat-icon>
          <div class="info-content">
            <span class="info-label">Nom d'affichage</span>
            <span class="info-value">{{ user.displayName || 'Non renseigné' }}</span>
          </div>
        </div>

        <div class="info-item">
          <mat-icon>fingerprint</mat-icon>
          <div class="info-content">
            <span class="info-label">ID utilisateur</span>
            <span class="info-value user-id">{{ user.uid }}</span>
          </div>
        </div>
      </div>
    </mat-card-content>

    <mat-card-actions>
      <button
        mat-raised-button
        color="warn"
        (click)="signOut()"
        [disabled]="loading"
      >
        <mat-icon>logout</mat-icon>
        <span>SE DÉCONNECTER</span>
      </button>
    </mat-card-actions>
  </mat-card>
</div>
